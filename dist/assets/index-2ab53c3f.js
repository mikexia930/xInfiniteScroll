import{ref as m,watch as w,reactive as S,onBeforeMount as I,nextTick as N,onBeforeUnmount as x,defineComponent as O,computed as T,openBlock as g,createElementBlock as h,createElementVNode as _,Fragment as L,renderList as E,unref as b,normalizeStyle as B,toDisplayString as H,createCommentVNode as P,pushScopeId as C,popScopeId as D,createApp as M}from"vue";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const r of e.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&u(r)}).observe(document,{childList:!0,subtree:!0});function n(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function u(t){if(t.ep)return;t.ep=!0;const e=n(t);fetch(t.href,e)}})();function z(a,l,n=1e3){const u=m([]),t=m(!0);w(()=>l.value,()=>{const{rowItemAmount:s,listData:i,rowHeight:v}=l.value,f=[];for(let d=0;d<i.length;d+=1){const y=Math.floor(d/s);f.push({value:i[d],top:y*v})}u.value=f},{deep:!0,immediate:!0});let e=null;const r=m(0),c=m(0),o=S({begin:0,end:0+n}),A=function(s,i){let v=null;function f(){v!==null&&clearTimeout(v)}function d(y){f(),v=setTimeout(s(y),i)}return d.cancel=f,d}(s=>{var i;r.value=((i=s.target)==null?void 0:i.scrollTop)||0,o.begin=r.value-n,o.end=r.value+c.value+n},200);return w(()=>c.value,s=>{o.begin=r.value-n,o.end=r.value+s+n}),I(()=>{N(()=>{e=document.getElementById(a),c.value=(e==null?void 0:e.clientHeight)||0,o.end=c.value+n,e.addEventListener("resize",()=>{c.value=(e==null?void 0:e.clientHeight)||0}),t&&e.addEventListener("scroll",A)})}),x(()=>{A.cancel()}),{wrapData:u,scrollTop:r,showArea:o}}const F=a=>(C("data-v-461aae8d"),a=a(),D(),a),V={class:"scroll-setting"},$=F(()=>_("span",null,"Amountï¼š",-1)),k=["value"],q={class:"scroll-area",id:"scroll-area"},K=O({__name:"App",setup(a){const l=m(1e3);function n(c){const o=c.target.value;!isNaN(o)&&o>0&&(l.value=o)}const u=T(()=>{const c=[];for(let o=0;o<l.value;o++)c.push({label:`number ${o}`,value:String(o)});return{listData:c,rowItemAmount:1,rowHeight:40}}),{wrapData:t,scrollTop:e,showArea:r}=z("scroll-area",u,1e3);return(c,o)=>(g(),h("div",null,[_("div",V,[$,_("input",{type:"text",value:l.value},null,8,k),_("button",{onClick:n,style:{"margin-left":"6px"}},"confirm")]),_("div",q,[(g(!0),h(L,null,E(b(t),p=>(g(),h(L,null,[p.top>=b(r).begin&&p.top<=b(r).end?(g(),h("div",{style:B({top:`${p.top}px`}),class:"scroll-item",key:p.value.value},H(p.value.label),5)):P("",!0)],64))),256))])]))}});const R=(a,l)=>{const n=a.__vccOpts||a;for(const[u,t]of l)n[u]=t;return n},U=R(K,[["__scopeId","data-v-461aae8d"]]);M(U).mount("#app");
