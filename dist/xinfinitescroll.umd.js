(function(t,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.xInfiniteScroll={},t.Vue))})(this,function(t,e){"use strict";function v(b,h,c=1e3){const p=e.ref([]),m=e.ref(!0);e.watch(()=>h.value,()=>{const{rowItemAmount:o,listData:i,rowHeight:d}=h.value,s=[];for(let l=0;l<i.length;l+=1){const f=Math.floor(l/o);s.push({value:i[l],top:f*d})}p.value=s},{deep:!0,immediate:!0});let n=null;const u=e.ref(0),a=e.ref(0),r=e.reactive({begin:0,end:0+c}),g=function(o,i){let d=null;function s(){d!==null&&clearTimeout(d)}function l(f){s(),d=setTimeout(o(f),i)}return l.cancel=s,l}(o=>{var i;u.value=((i=o.target)==null?void 0:i.scrollTop)||0,r.begin=u.value-c,r.end=u.value+a.value+c},200);return e.watch(()=>a.value,o=>{r.begin=u.value-c,r.end=u.value+o+c}),e.onBeforeMount(()=>{e.nextTick(()=>{n=document.getElementById(b),a.value=(n==null?void 0:n.clientHeight)||0,r.end=a.value+c,n.addEventListener("resize",()=>{a.value=(n==null?void 0:n.clientHeight)||0}),m&&n.addEventListener("scroll",g)})}),e.onBeforeUnmount(()=>{g.cancel()}),{wrapData:p,scrollTop:u,showArea:r}}t.infiniteScroll=v,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});
