(function(m,a){typeof exports=="object"&&typeof module<"u"?a(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],a):(m=typeof globalThis<"u"?globalThis:m||self,a(m.xInfiniteScroll={},m.Vue))})(this,function(m,a){"use strict";var P=typeof global=="object"&&global&&global.Object===Object&&global;const W=P;var H=typeof self=="object"&&self&&self.Object===Object&&self,R=W||H||Function("return this")();const $=R;var C=$.Symbol;const S=C;var w=Object.prototype,F=w.hasOwnProperty,G=w.toString,p=S?S.toStringTag:void 0;function U(e){var n=F.call(e,p),r=e[p];try{e[p]=void 0;var u=!0}catch{}var s=G.call(e);return u&&(n?e[p]=r:delete e[p]),s}var _=Object.prototype,q=_.toString;function z(e){return q.call(e)}var D="[object Null]",V="[object Undefined]",k=S?S.toStringTag:void 0;function X(e){return e==null?e===void 0?V:D:k&&k in Object(e)?U(e):z(e)}function J(e){return e!=null&&typeof e=="object"}var K="[object Symbol]";function Q(e){return typeof e=="symbol"||J(e)&&X(e)==K}var Y=/\s/;function Z(e){for(var n=e.length;n--&&Y.test(e.charAt(n)););return n}var ee=/^\s+/;function ne(e){return e&&e.slice(0,Z(e)+1).replace(ee,"")}function O(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var L=0/0,te=/^[-+]0x[0-9a-f]+$/i,re=/^0b[01]+$/i,ie=/^0o[0-7]+$/i,oe=parseInt;function A(e){if(typeof e=="number")return e;if(Q(e))return L;if(O(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=O(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=ne(e);var r=re.test(e);return r||ie.test(e)?oe(e.slice(2),r?2:8):te.test(e)?L:+e}var ae=function(){return $.Date.now()};const x=ae;var ce="Expected a function",fe=Math.max,ue=Math.min;function le(e,n,r){var u,s,o,f,i,c,d=0,g=!1,l=!1,h=!0;if(typeof e!="function")throw new TypeError(ce);n=A(n)||0,O(r)&&(g=!!r.leading,l="maxWait"in r,o=l?fe(A(r.maxWait)||0,n):o,h="trailing"in r?!!r.trailing:h);function T(t){var b=u,v=s;return u=s=void 0,d=t,f=e.apply(v,b),f}function y(t){return d=t,i=setTimeout(j,n),g?T(t):f}function I(t){var b=t-c,v=t-d,N=n-b;return l?ue(N,o-v):N}function M(t){var b=t-c,v=t-d;return c===void 0||b>=n||b<0||l&&v>=o}function j(){var t=x();if(M(t))return B(t);i=setTimeout(j,I(t))}function B(t){return i=void 0,h&&u?T(t):(u=s=void 0,f)}function de(){i!==void 0&&clearTimeout(i),d=0,u=c=s=i=void 0}function ge(){return i===void 0?f:B(x())}function E(){var t=x(),b=M(t);if(u=arguments,s=this,c=t,b){if(i===void 0)return y(c);if(l)return clearTimeout(i),i=setTimeout(j,n),T(c)}return i===void 0&&(i=setTimeout(j,n)),f}return E.cancel=de,E.flush=ge,E}function se(e,n,r=1e3){const u=a.ref([]),s=a.ref(!0);a.watch(()=>n.value,()=>{const{rowItemAmount:g,listData:l,rowHeight:h}=n.value,T=[];for(let y=0;y<l.length;y+=1){const I=Math.floor(y/g);T.push({value:l[y],top:I*h})}u.value=T},{deep:!0,immediate:!0});let o=null;const f=a.ref(0),i=a.ref(0),c=a.reactive({begin:0,end:0+r}),d=le(g=>{var l;f.value=((l=g.target)==null?void 0:l.scrollTop)||0,c.begin=f.value-r,c.end=f.value+i.value+r},200);return a.watch(()=>i.value,g=>{c.begin=f.value-r,c.end=f.value+g+r}),a.onBeforeMount(()=>{a.nextTick(()=>{o=document.getElementById(e),i.value=(o==null?void 0:o.clientHeight)||0,c.end=i.value+r,o.addEventListener("resize",()=>{i.value=(o==null?void 0:o.clientHeight)||0}),s&&o.addEventListener("scroll",d)})}),a.onBeforeUnmount(()=>{d.cancel()}),{wrapData:u,scrollTop:f,showArea:c}}m.infiniteScroll=se,Object.defineProperty(m,Symbol.toStringTag,{value:"Module"})});
